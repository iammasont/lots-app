{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://lots-app/./lots-app/src/app.js","webpack://lots-app/./lots-app/src/components/basic-corrections/basic-corrections.js","webpack://lots-app/./lots-app/src/components/color-wheels/color-wheels.js","webpack://lots-app/./lots-app/src/components/common/ui-elements.js","webpack://lots-app/./lots-app/src/components/creative/creative-effects.js","webpack://lots-app/./lots-app/src/components/curves/curves-panel.js","webpack://lots-app/./lots-app/src/components/image-preview/image-comparison.js","webpack://lots-app/./lots-app/src/components/image-preview/preview-controller.js","webpack://lots-app/./lots-app/src/components/presets/presets.js","webpack://lots-app/./lots-app/src/models/image-processor.js","webpack://lots-app/./lots-app/src/services/export-service.js","webpack://lots-app/./lots-app/src/services/file-service.js","webpack://lots-app/./lots-app/src/services/lut-generator.js","webpack://lots-app/./lots-app/src/styles/animations.css?d4c2","webpack://lots-app/./lots-app/src/styles/base.css?868d","webpack://lots-app/./lots-app/src/styles/compare.css?2e6c","webpack://lots-app/./lots-app/src/styles/components.css?b084","webpack://lots-app/./lots-app/src/styles/layout.css?eaaf","webpack://lots-app/./lots-app/src/styles/themes.css?b741","webpack://lots-app/./lots-app/src/styles/tools.css?6057","webpack://lots-app/webpack/bootstrap","webpack://lots-app/webpack/runtime/define property getters","webpack://lots-app/webpack/runtime/hasOwnProperty shorthand","webpack://lots-app/webpack/runtime/make namespace object","webpack://lots-app/webpack/before-startup","webpack://lots-app/webpack/startup","webpack://lots-app/webpack/after-startup"],"sourcesContent":["// Import styles\nimport './styles/compare.css';\nimport './styles/base.css';\nimport './styles/layout.css';\nimport './styles/components.css';\nimport './styles/tools.css';\nimport './styles/themes.css';\nimport './styles/animations.css';\n\n// Import components\nimport { initCurvesPanel } from './components/curves/curves-panel.js';\nimport { initBasicCorrections } from './components/basic-corrections/basic-corrections.js';\nimport { initCreativeEffects } from './components/creative/creative-effects.js';\nimport { initColorWheels } from './components/color-wheels/color-wheels.js';\nimport { initImageComparison } from './components/image-preview/image-comparison.js';\nimport { initPreviewController } from './components/image-preview/preview-controller.js';\nimport { initPresets } from './components/presets/presets.js';\nimport { initUiElements } from './components/common/ui-elements.js';\n\n// Import services\nimport { initFileService } from './services/file-service.js';\nimport { initLutGenerator } from './services/lut-generator.js';\nimport { initExportService } from './services/export-service.js';\n\n// Import image processing utilities\nimport { processImage, applyAdjustmentsToImage } from './models/image-processor.js';\n\n// App state\nlet appState = {\n  activeMode: 'basic', // 'basic' or 'advanced'\n  originalImage: null,\n  processedImage: null,\n  currentLutParams: {\n    // Basic parameters\n    size: 32,\n    title: \"Signature Look\",\n    contrast: 1.2,\n    saturation: 1.15,\n    redBalance: 1.05,\n    greenBalance: 0.95,\n    blueBalance: 1.1,\n    shadowsShift: [0.05, 0.0, -0.05],\n    highlightsShift: [0.03, 0.03, 0.0],\n    \n    // Advanced parameters will be added by the respective modules\n  }\n};\n\n// Initialize the application\nfunction initApp() {\n  console.log('LOTS App initializing...');\n  \n  // Make app state available globally for modules\n  window.appState = appState;\n  \n  // Initialize UI components\n  initUiElements();\n  initBasicCorrections();\n  initCreativeEffects();\n  initColorWheels();\n  initCurvesPanel();\n  initImageComparison();\n  initPreviewController();\n  initPresets();\n  \n  // Initialize services\n  initFileService();\n  initLutGenerator();\n  initExportService();\n  \n  // Set up mode toggle\n  setupModeToggle();\n  \n  // Set up window control buttons\n  setupWindowControls();\n  \n  console.log('LOTS App initialized successfully');\n}\n\n// Set up mode toggle (basic/advanced)\nfunction setupModeToggle() {\n  const modeToggle = document.getElementById('mode-toggle');\n  const basicControls = document.getElementById('basic-controls');\n  const advancedControls = document.getElementById('advanced-controls');\n  \n  if (modeToggle) {\n    modeToggle.addEventListener('change', function() {\n      const isAdvancedMode = this.checked;\n      appState.activeMode = isAdvancedMode ? 'advanced' : 'basic';\n      \n      if (basicControls && advancedControls) {\n        console.log(`Switching to ${appState.activeMode} mode`);\n        basicControls.style.display = isAdvancedMode ? 'none' : 'block';\n        advancedControls.style.display = isAdvancedMode ? 'block' : 'none';\n        \n        // Apply current image adjustments with the new mode\n        if (appState.originalImage && appState.processedImage) {\n          applyImageAdjustments();\n        }\n      }\n    });\n  }\n}\n\n// Set up window control buttons for Electron\nfunction setupWindowControls() {\n  const minimizeBtn = document.getElementById('minimize-btn');\n  const maximizeBtn = document.getElementById('maximize-btn');\n  const closeBtn = document.getElementById('close-btn');\n  \n  if (minimizeBtn) {\n    minimizeBtn.addEventListener('click', () => {\n      if (window.electronAPI) {\n        window.electronAPI.windowControl('minimize');\n      }\n    });\n  }\n  \n  if (maximizeBtn) {\n    maximizeBtn.addEventListener('click', () => {\n      if (window.electronAPI) {\n        window.electronAPI.windowControl('maximize');\n      }\n    });\n  }\n  \n  if (closeBtn) {\n    closeBtn.addEventListener('click', () => {\n      if (window.electronAPI) {\n        window.electronAPI.windowControl('close');\n      }\n    });\n  }\n}\n\n// Apply adjustments to image based on current mode and parameters\nfunction applyImageAdjustments() {\n  if (!appState.originalImage) return;\n  \n  console.log('Applying image adjustments');\n  \n  // Actually process the image instead of just logging\n  try {\n    // Use the image processor to apply adjustments\n    const processedImageUrl = processImage(appState.originalImageElement);\n    \n    // Update the processed image with the new data\n    if (processedImageUrl && appState.processedImageElement) {\n      appState.processedImageElement.src = processedImageUrl;\n    }\n  } catch (error) {\n    console.error('Error processing image:', error);\n  }\n}\n\n// Apply basic mode adjustments\nfunction applyBasicAdjustments() {\n  console.log('Applying basic adjustments to image');\n  applyAdjustmentsToImage();\n}\n\n// Apply advanced mode adjustments\nfunction applyAdvancedAdjustments() {\n  console.log('Applying advanced Lumetri-style adjustments to image');\n  applyAdjustmentsToImage();\n}\n\n// Make certain functions available globally\nwindow.applyImageAdjustments = applyImageAdjustments;\n\n// Initialize the app when the DOM is fully loaded\ndocument.addEventListener('DOMContentLoaded', initApp);\n\n// Export functions for use in other modules\nexport { \n  appState,\n  applyImageAdjustments,\n  applyBasicAdjustments,\n  applyAdvancedAdjustments\n};","// Import app state and functions\nimport { appState, applyImageAdjustments } from '../../app.js';\n\n// Initialize the Basic Corrections component\nexport function initBasicCorrections() {\n  console.log('Initializing Basic Corrections');\n  \n  // Initialize basic correction parameters if not present\n  if (!appState.currentLutParams.basic) {\n    appState.currentLutParams.basic = {\n      contrast: 1.2,\n      saturation: 1.15,\n      redBalance: 1.05,\n      greenBalance: 0.95,\n      blueBalance: 1.1\n    };\n  }\n  \n  // Get slider references\n  const contrastSlider = document.getElementById('contrast');\n  const saturationSlider = document.getElementById('saturation');\n  const redBalanceSlider = document.getElementById('red-balance');\n  const greenBalanceSlider = document.getElementById('green-balance');\n  const blueBalanceSlider = document.getElementById('blue-balance');\n  \n  // Display value references\n  const contrastValue = document.getElementById('contrast-value');\n  const saturationValue = document.getElementById('saturation-value');\n  const redBalanceValue = document.getElementById('red-balance-value');\n  const greenBalanceValue = document.getElementById('green-balance-value');\n  const blueBalanceValue = document.getElementById('blue-balance-value');\n  \n  // Set up event listeners for sliders\n  setupSlider(contrastSlider, contrastValue, 'contrast');\n  setupSlider(saturationSlider, saturationValue, 'saturation');\n  setupSlider(redBalanceSlider, redBalanceValue, 'redBalance');\n  setupSlider(greenBalanceSlider, greenBalanceValue, 'greenBalance');\n  setupSlider(blueBalanceSlider, blueBalanceValue, 'blueBalance');\n  \n  // Initialize LUT title and size controls\n  initTitleAndSizeControls();\n}\n\n// Set up a slider control with its value display\nfunction setupSlider(slider, valueDisplay, paramName) {\n  if (!slider || !valueDisplay) return;\n  \n  // Set initial value from app state\n  slider.value = appState.currentLutParams.basic[paramName];\n  valueDisplay.textContent = appState.currentLutParams.basic[paramName].toFixed(2);\n  \n  // Add event listener\n  slider.addEventListener('input', () => {\n    // Update parameter in app state\n    appState.currentLutParams.basic[paramName] = parseFloat(slider.value);\n    \n    // Update display value\n    valueDisplay.textContent = appState.currentLutParams.basic[paramName].toFixed(2);\n    \n    // Apply adjustments to image\n    applyImageAdjustments();\n  });\n}\n\n// Initialize title and LUT size controls\nfunction initTitleAndSizeControls() {\n  const titleInput = document.getElementById('title');\n  const lutSizeSelect = document.getElementById('lut-size');\n  \n  if (titleInput) {\n    // Set initial value\n    titleInput.value = appState.currentLutParams.title || \"Signature Look\";\n    \n    // Add event listener\n    titleInput.addEventListener('input', () => {\n      appState.currentLutParams.title = titleInput.value;\n    });\n  }\n  \n  if (lutSizeSelect) {\n    // Set initial value\n    lutSizeSelect.value = appState.currentLutParams.size || \"32\";\n    \n    // Add event listener\n    lutSizeSelect.addEventListener('change', () => {\n      appState.currentLutParams.size = parseInt(lutSizeSelect.value);\n    });\n  }\n}\n\n// Apply the basic corrections to an image\nexport function applyBasicCorrections(imageData) {\n  const params = appState.currentLutParams.basic;\n  const data = imageData.data;\n  \n  for (let i = 0; i < data.length; i += 4) {\n    // Get RGB values (0-255) and normalize to 0-1\n    let r = data[i] / 255;\n    let g = data[i + 1] / 255;\n    let b = data[i + 2] / 255;\n    \n    // Apply contrast\n    r = applyContrast(r, params.contrast);\n    g = applyContrast(g, params.contrast);\n    b = applyContrast(b, params.contrast);\n    \n    // Apply color balance\n    r *= params.redBalance;\n    g *= params.greenBalance;\n    b *= params.blueBalance;\n    \n    // Apply saturation\n    if (params.saturation !== 1.0) {\n      const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n      r = luminance + params.saturation * (r - luminance);\n      g = luminance + params.saturation * (g - luminance);\n      b = luminance + params.saturation * (b - luminance);\n    }\n    \n    // Apply shadow/highlight adjustments (if defined)\n    if (params.shadowsShift && params.highlightsShift) {\n      let shadowEffect = Math.pow(1 - Math.max(r, Math.max(g, b)), 2);\n      let highlightEffect = Math.pow(Math.max(r, Math.max(g, b)), 2);\n      \n      r += params.shadowsShift[0] * shadowEffect + params.highlightsShift[0] * highlightEffect;\n      g += params.shadowsShift[1] * shadowEffect + params.highlightsShift[1] * highlightEffect;\n      b += params.shadowsShift[2] * shadowEffect + params.highlightsShift[2] * highlightEffect;\n    }\n    \n    // Clamp values to valid range (0-1)\n    r = Math.min(1.0, Math.max(0.0, r));\n    g = Math.min(1.0, Math.max(0.0, g));\n    b = Math.min(1.0, Math.max(0.0, b));\n    \n    // Convert back to 0-255 range and update pixel data\n    data[i] = Math.round(r * 255);\n    data[i + 1] = Math.round(g * 255);\n    data[i + 2] = Math.round(b * 255);\n    // Alpha channel (data[i + 3]) remains unchanged\n  }\n  \n  return imageData;\n}\n\n// Helper function to apply contrast\nfunction applyContrast(value, contrast) {\n  return 0.5 + (value - 0.5) * contrast;\n}\n\n// Export functions and constants\nexport {\n    applyContrast\n};","// Import app state and functions\nimport { appState, applyImageAdjustments } from '../../app.js';\n\n// Initialize the Color Wheels component\nexport function initColorWheels() {\n  console.log('Initializing Color Wheels');\n  \n  // Initialize color wheel parameters if not present\n  if (!appState.currentLutParams.colorWheels) {\n    appState.currentLutParams.colorWheels = {\n      shadowTint: { r: 128, g: 128, b: 128 }, // Middle gray = no tint\n      highlightTint: { r: 128, g: 128, b: 128 }, // Middle gray = no tint\n      tintBalance: 0 // Range: -150 to 150\n    };\n  }\n  \n  // Get DOM references\n  const shadowColorWheel = document.getElementById('shadow-color-wheel');\n  const highlightColorWheel = document.getElementById('highlight-color-wheel');\n  const tintBalanceSlider = document.getElementById('tint-balance');\n  const tintBalanceValue = document.getElementById('tint-balance-value');\n  \n  // Setup color wheels\n  if (shadowColorWheel) {\n    setupColorWheel(shadowColorWheel, 'shadowTint');\n  }\n  \n  if (highlightColorWheel) {\n    setupColorWheel(highlightColorWheel, 'highlightTint');\n  }\n  \n  // Setup tint balance slider\n  if (tintBalanceSlider && tintBalanceValue) {\n    // Set initial value\n    tintBalanceSlider.value = appState.currentLutParams.colorWheels.tintBalance;\n    tintBalanceValue.textContent = appState.currentLutParams.colorWheels.tintBalance.toFixed(1);\n    \n    // Add event listener\n    tintBalanceSlider.addEventListener('input', () => {\n      appState.currentLutParams.colorWheels.tintBalance = parseFloat(tintBalanceSlider.value);\n      tintBalanceValue.textContent = appState.currentLutParams.colorWheels.tintBalance.toFixed(1);\n      applyImageAdjustments();\n    });\n  }\n  \n  // Setup reset button\n  const resetButton = document.querySelector('.reset-btn[data-section=\"colorWheels\"]');\n  if (resetButton) {\n    resetButton.addEventListener('click', resetColorWheels);\n  }\n  \n  // Set up section toggle\n  setupSectionToggle('color-wheels-toggle', 'color-wheels-section');\n}\n\n// Set up a color wheel control\nfunction setupColorWheel(wheel, paramName) {\n  if (!wheel) return;\n  \n  // Clear any existing content\n  wheel.innerHTML = '';\n  \n  // Create a canvas-based color wheel\n  const canvas = document.createElement('canvas');\n  canvas.width = wheel.clientWidth || 80;\n  canvas.height = wheel.clientHeight || 80;\n  wheel.appendChild(canvas);\n  \n  // Use CSS-based color wheel instead of canvas\n  wheel.style.background = \"conic-gradient(red, yellow, lime, cyan, blue, magenta, red)\";\n  wheel.style.backgroundImage = \"radial-gradient(circle at center, white 0%, rgba(255, 255, 255, 0) 70%), conic-gradient(red, yellow, lime, cyan, blue, magenta, red)\";\n  \n  // Add indicator for current position\n  const indicator = document.createElement('div');\n  indicator.className = 'wheel-indicator';\n  wheel.appendChild(indicator);\n  \n  // Get current tint value\n  const tintValue = appState.currentLutParams.colorWheels[paramName];\n  \n  // Position indicator based on current tint value\n  const centerX = wheel.clientWidth / 2;\n  const centerY = wheel.clientHeight / 2;\n  const maxDistance = Math.min(centerX, centerY) - 2;\n  \n  // Calculate position from tint values\n  // Convert from 0-255 range to -1 to 1 range (128 is center/neutral)\n  const normalizedR = (tintValue.r - 128) / 128;\n  const normalizedG = (tintValue.g - 128) / 128;\n  const normalizedB = (tintValue.b - 128) / 128;\n  \n  // Estimate hue and saturation from RGB (simplified)\n  let saturation = Math.sqrt(normalizedR*normalizedR + normalizedG*normalizedG + normalizedB*normalizedB);\n  saturation = Math.min(1, saturation); // Clamp to 1\n  \n  // This is a simplified conversion - a complete RGB to HSV would be more accurate\n  let hue = 0;\n  if (saturation > 0) {\n    // Rough estimation of hue angle based on RGB values\n    hue = Math.atan2(normalizedG, normalizedR);\n    if (normalizedB > Math.max(normalizedR, normalizedG)) {\n      hue = Math.PI + Math.atan2(normalizedB, -normalizedR);\n    }\n    // Convert to 0-2PI range\n    if (hue < 0) hue += 2 * Math.PI;\n  }\n  \n  // Calculate x,y position on wheel\n  const x = Math.cos(hue) * saturation * maxDistance;\n  const y = Math.sin(hue) * saturation * maxDistance;\n  \n  // Position indicator\n  setWheelIndicatorPosition(wheel, indicator, x, y);\n  \n  // Track if mouse is down\n  let isMouseDown = false;\n  \n  // Handle mouse interactions\n  wheel.addEventListener('mousedown', (e) => {\n    isMouseDown = true;\n    updateWheelFromEvent(e);\n  });\n  \n  document.addEventListener('mousemove', (e) => {\n    if (!isMouseDown) return;\n    updateWheelFromEvent(e);\n  });\n  \n  document.addEventListener('mouseup', () => {\n    isMouseDown = false;\n  });\n  \n  wheel.addEventListener('click', updateWheelFromEvent);\n  \n  function updateWheelFromEvent(e) {\n    const rect = wheel.getBoundingClientRect();\n    const centerX = rect.width / 2;\n    const centerY = rect.height / 2;\n    \n    // Get coordinates relative to center\n    const x = e.clientX - rect.left - centerX;\n    const y = e.clientY - rect.top - centerY;\n    \n    // Calculate distance from center (for saturation)\n    const distance = Math.sqrt(x * x + y * y);\n    const maxDistance = Math.min(centerX, centerY) - 2;\n    \n    // Limit to wheel boundary\n    if (distance <= maxDistance) {\n      // Update indicator position\n      setWheelIndicatorPosition(wheel, indicator, x, y);\n      \n      // Calculate angle (for hue)\n      let angle = Math.atan2(y, x);\n      if (angle < 0) angle += 2 * Math.PI;\n      \n      // Normalize distance to 0-1\n      const normalizedDistance = distance / maxDistance;\n      \n      // Calculate color based on position\n      const hue = angle / (2 * Math.PI);\n      const saturation = normalizedDistance;\n      const rgb = hsvToRgb(hue, saturation, 1.0);\n      \n      // Map RGB (0-255) to tint adjustments (64-192, where 128 is neutral)\n      // We use a narrower range to avoid extreme adjustments\n      const mappedR = Math.round(128 + (rgb.r - 128) * saturation);\n      const mappedG = Math.round(128 + (rgb.g - 128) * saturation);\n      const mappedB = Math.round(128 + (rgb.b - 128) * saturation);\n      \n      // Update the parameter\n      appState.currentLutParams.colorWheels[paramName] = { r: mappedR, g: mappedG, b: mappedB };\n      \n      // Apply the adjustment to the image\n      applyImageAdjustments();\n    }\n  }\n}\n\n// Reset color wheels to default values\nfunction resetColorWheels() {\n  // Reset to neutral tints\n  appState.currentLutParams.colorWheels.shadowTint = { r: 128, g: 128, b: 128 };\n  appState.currentLutParams.colorWheels.highlightTint = { r: 128, g: 128, b: 128 };\n  appState.currentLutParams.colorWheels.tintBalance = 0;\n  \n  // Update UI\n  const tintBalanceSlider = document.getElementById('tint-balance');\n  const tintBalanceValue = document.getElementById('tint-balance-value');\n  \n  if (tintBalanceSlider) tintBalanceSlider.value = 0;\n  if (tintBalanceValue) tintBalanceValue.textContent = '0.0';\n  \n  // Reset wheel indicators\n  const shadowColorWheel = document.getElementById('shadow-color-wheel');\n  const highlightColorWheel = document.getElementById('highlight-color-wheel');\n  \n  if (shadowColorWheel) {\n    const shadowIndicator = shadowColorWheel.querySelector('.wheel-indicator');\n    if (shadowIndicator) {\n      setWheelIndicatorPosition(shadowColorWheel, shadowIndicator, 0, 0);\n    }\n  }\n  \n  if (highlightColorWheel) {\n    const highlightIndicator = highlightColorWheel.querySelector('.wheel-indicator');\n    if (highlightIndicator) {\n      setWheelIndicatorPosition(highlightColorWheel, highlightIndicator, 0, 0);\n    }\n  }\n  \n  // Apply changes to image\n  applyImageAdjustments();\n}\n\n// Set up section toggle for expandable sections\nfunction setupSectionToggle(toggleId, sectionId) {\n  const toggle = document.getElementById(toggleId);\n  const section = document.getElementById(sectionId);\n  \n  if (toggle && section) {\n    toggle.addEventListener('click', () => {\n      toggle.classList.toggle('expanded');\n      section.classList.toggle('expanded');\n    });\n  }\n}\n\n// Helper for setting wheel indicator position\nfunction setWheelIndicatorPosition(wheel, indicator, x, y) {\n  const centerX = wheel.clientWidth / 2;\n  const centerY = wheel.clientHeight / 2;\n  \n  indicator.style.left = `${centerX + x}px`;\n  indicator.style.top = `${centerY + y}px`;\n}\n\n// Convert HSV (0-1 ranges) to RGB (0-255)\nfunction hsvToRgb(h, s, v) {\n  let r, g, b;\n  \n  const i = Math.floor(h * 6);\n  const f = h * 6 - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  \n  switch (i % 6) {\n    case 0: r = v; g = t; b = p; break;\n    case 1: r = q; g = v; b = p; break;\n    case 2: r = p; g = v; b = t; break;\n    case 3: r = p; g = q; b = v; break;\n    case 4: r = t; g = p; b = v; break;\n    case 5: r = v; g = p; b = q; break;\n  }\n  \n  return {\n    r: Math.round(r * 255),\n    g: Math.round(g * 255),\n    b: Math.round(b * 255)\n  };\n}\n\n// Apply color wheel tinting to an image\nexport function applyColorWheelAdjustments(imageData) {\n  const params = appState.currentLutParams.colorWheels;\n  const data = imageData.data;\n  \n  for (let i = 0; i < data.length; i += 4) {\n    // Get RGB values and normalize to 0-1\n    let r = data[i] / 255;\n    let g = data[i + 1] / 255;\n    let b = data[i + 2] / 255;\n    \n    // Apply color wheels tinting\n    const result = applyColorWheels(r, g, b, params.shadowTint, params.highlightTint, params.tintBalance / 150);\n    \n    // Clamp values to valid range\n    data[i] = Math.round(Math.min(1.0, Math.max(0.0, result.r)) * 255);\n    data[i + 1] = Math.round(Math.min(1.0, Math.max(0.0, result.g)) * 255);\n    data[i + 2] = Math.round(Math.min(1.0, Math.max(0.0, result.b)) * 255);\n    // Alpha channel (data[i + 3]) remains unchanged\n  }\n  \n  return imageData;\n}\n\n// Apply color wheels (shadow and highlight tinting)\nfunction applyColorWheels(r, g, b, shadowTint, highlightTint, tintBalance) {\n  // Calculate luminance\n  const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  \n  // Calculate shadow and highlight influence based on luminance\n  let shadowInfluence = Math.pow(1 - luminance, 2);\n  let highlightInfluence = Math.pow(luminance, 2);\n  \n  // Apply tint balance to adjust the crossover point\n  if (tintBalance > 0) {\n    // Shift influence towards highlights\n    shadowInfluence *= (1 - tintBalance);\n    highlightInfluence = highlightInfluence * (1 - tintBalance) + tintBalance;\n  } else if (tintBalance < 0) {\n    // Shift influence towards shadows\n    highlightInfluence *= (1 + tintBalance);\n    shadowInfluence = shadowInfluence * (1 + tintBalance) - tintBalance;\n  }\n  \n  // Convert shadow tint from 0-255 to -1 to 1 range (128 is neutral)\n  const shadowR = (shadowTint.r - 128) / 128;\n  const shadowG = (shadowTint.g - 128) / 128;\n  const shadowB = (shadowTint.b - 128) / 128;\n  \n  // Convert highlight tint from 0-255 to -1 to 1 range (128 is neutral)\n  const highlightR = (highlightTint.r - 128) / 128;\n  const highlightG = (highlightTint.g - 128) / 128;\n  const highlightB = (highlightTint.b - 128) / 128;\n  \n  // Apply shadow tint\n  r += shadowR * shadowInfluence * 0.5;\n  g += shadowG * shadowInfluence * 0.5;\n  b += shadowB * shadowInfluence * 0.5;\n  \n  // Apply highlight tint\n  r += highlightR * highlightInfluence * 0.5;\n  g += highlightG * highlightInfluence * 0.5;\n  b += highlightB * highlightInfluence * 0.5;\n  \n  return { r, g, b };\n}\n\n// Export functions for use in other modules\nexport {\n  hsvToRgb,\n  applyColorWheels\n};","// components/common/ui-elements.js\n// Import app state if needed\nimport { appState } from '../../app.js';\n\n// Initialize common UI elements\nexport function initUiElements() {\n  console.log('Initializing UI Elements');\n  \n  // Initialize modal functionality\n  initModals();\n  \n  // Initialize expandable sections\n  initExpandableSections();\n  \n  // Initialize window control buttons\n  initWindowControls();\n}\n\n// Initialize modal dialogs\nfunction initModals() {\n  // Code Preview Modal\n  const viewCodeBtn = document.getElementById('view-code-btn');\n  const viewCodeBtnAdvanced = document.getElementById('view-code-btn-advanced');\n  const codeModal = document.getElementById('code-modal');\n  const closeModalBtn = document.getElementById('close-modal-btn');\n  \n  if (viewCodeBtn && codeModal) {\n    viewCodeBtn.addEventListener('click', () => {\n      // Update the code preview with current LUT\n      updateLUTPreview(true);\n      // Show the modal\n      codeModal.style.display = 'block';\n    });\n  }\n  \n  if (viewCodeBtnAdvanced && codeModal) {\n    viewCodeBtnAdvanced.addEventListener('click', () => {\n      // Update the code preview with current LUT\n      updateLUTPreview(true);\n      // Show the modal\n      codeModal.style.display = 'block';\n    });\n  }\n  \n  if (closeModalBtn) {\n    closeModalBtn.addEventListener('click', () => {\n      // Hide any open modal\n      const modals = document.querySelectorAll('.modal');\n      modals.forEach(modal => {\n        modal.style.display = 'none';\n      });\n    });\n  }\n  \n  // Close modals when clicking outside content\n  window.addEventListener('click', (e) => {\n    const modals = document.querySelectorAll('.modal');\n    modals.forEach(modal => {\n      if (e.target === modal) {\n        modal.style.display = 'none';\n      }\n    });\n  });\n}\n\n// Update LUT preview in code modal\nexport function updateLUTPreview(fullPreview = false) {\n  const lutPreview = document.getElementById('lut-preview');\n  if (!lutPreview) return;\n  \n  // Get LUT content from generator (to be implemented)\n  let lutContent = \"# LUT Preview will be generated here\";\n  \n  // In the future, we'll call the actual LUT generator:\n  if (window.generateCubeLUT) {\n    lutContent = window.generateCubeLUT();\n  }\n  \n  if (fullPreview) {\n    // Show the full LUT content in the modal\n    lutPreview.textContent = lutContent;\n  } else {\n    // Just show a preview sample\n    lutPreview.textContent = lutContent.slice(0, 500) + '...';\n  }\n}\n\n// Initialize expandable sections\nfunction initExpandableSections() {\n  // Define sections to initialize as expanded or collapsed\n  const sections = [\n    { toggle: 'basic-correction-toggle', content: 'basic-correction-section', expanded: true },\n    { toggle: 'creative-toggle', content: 'creative-section', expanded: false },\n    { toggle: 'color-wheels-toggle', content: 'color-wheels-section', expanded: false },\n    { toggle: 'curves-toggle', content: 'curves-section', expanded: false }\n  ];\n  \n  sections.forEach(section => {\n    const toggle = document.getElementById(section.toggle);\n    const content = document.getElementById(section.content);\n    \n    if (toggle && content) {\n      // Set initial state\n      if (section.expanded) {\n        toggle.classList.add('expanded');\n        content.classList.add('expanded');\n      }\n      \n      toggle.addEventListener('click', () => {\n        toggle.classList.toggle('expanded');\n        content.classList.toggle('expanded');\n      });\n    }\n  });\n}\n\n// Initialize window control buttons for Electron\nfunction initWindowControls() {\n  const minimizeBtn = document.getElementById('minimize-btn');\n  const maximizeBtn = document.getElementById('maximize-btn');\n  const closeBtn = document.getElementById('close-btn');\n  \n  if (minimizeBtn) {\n    minimizeBtn.addEventListener('click', () => {\n      if (window.electronAPI) {\n        window.electronAPI.windowControl('minimize');\n      }\n    });\n  }\n  \n  if (maximizeBtn) {\n    maximizeBtn.addEventListener('click', () => {\n      if (window.electronAPI) {\n        window.electronAPI.windowControl('maximize');\n      }\n    });\n  }\n  \n  if (closeBtn) {\n    closeBtn.addEventListener('click', () => {\n      if (window.electronAPI) {\n        window.electronAPI.windowControl('close');\n      }\n    });\n  }\n}\n\n// Create a simple toast notification\nexport function showToast(message, type = 'info', duration = 3000) {\n  // Create toast container if it doesn't exist\n  let toastContainer = document.querySelector('.toast-container');\n  if (!toastContainer) {\n    toastContainer = document.createElement('div');\n    toastContainer.className = 'toast-container';\n    document.body.appendChild(toastContainer);\n  }\n  \n  // Create toast element\n  const toast = document.createElement('div');\n  toast.className = `toast toast-${type}`;\n  toast.textContent = message;\n  \n  // Add to container\n  toastContainer.appendChild(toast);\n  \n  // Trigger animation\n  setTimeout(() => {\n    toast.classList.add('show');\n  }, 10);\n  \n  // Remove after duration\n  setTimeout(() => {\n    toast.classList.remove('show');\n    \n    // Remove from DOM after animation completes\n    setTimeout(() => {\n      toastContainer.removeChild(toast);\n    }, 300);\n  }, duration);\n  \n  return toast;\n}\n\n// Create a confirmation dialog\nexport function showConfirmDialog(message, onConfirm, onCancel) {\n  // Create dialog\n  const dialogOverlay = document.createElement('div');\n  dialogOverlay.className = 'dialog-overlay';\n  \n  const dialogBox = document.createElement('div');\n  dialogBox.className = 'dialog-box';\n  \n  const messageEl = document.createElement('p');\n  messageEl.textContent = message;\n  \n  const buttonsContainer = document.createElement('div');\n  buttonsContainer.className = 'dialog-buttons';\n  \n  const confirmBtn = document.createElement('button');\n  confirmBtn.className = 'primary';\n  confirmBtn.textContent = 'Confirm';\n  \n  const cancelBtn = document.createElement('button');\n  cancelBtn.textContent = 'Cancel';\n  \n  // Add elements to DOM\n  buttonsContainer.appendChild(cancelBtn);\n  buttonsContainer.appendChild(confirmBtn);\n  \n  dialogBox.appendChild(messageEl);\n  dialogBox.appendChild(buttonsContainer);\n  \n  dialogOverlay.appendChild(dialogBox);\n  document.body.appendChild(dialogOverlay);\n  \n  // Add event listeners\n  confirmBtn.addEventListener('click', () => {\n    if (onConfirm) onConfirm();\n    document.body.removeChild(dialogOverlay);\n  });\n  \n  cancelBtn.addEventListener('click', () => {\n    if (onCancel) onCancel();\n    document.body.removeChild(dialogOverlay);\n  });\n  \n  // Also close on overlay click\n  dialogOverlay.addEventListener('click', (e) => {\n    if (e.target === dialogOverlay) {\n      if (onCancel) onCancel();\n      document.body.removeChild(dialogOverlay);\n    }\n  });\n  \n  return dialogOverlay;\n}","// Import app state and functions\nimport { appState, applyImageAdjustments } from '../../app.js';\n\n// Initialize the Creative Effects component\nexport function initCreativeEffects() {\n  console.log('Initializing Creative Effects');\n  \n  // Initialize creative effect parameters if not present\n  if (!appState.currentLutParams.creative) {\n    appState.currentLutParams.creative = {\n      fadedFilm: 0,\n      vibrance: 0\n    };\n  }\n  \n  // Get slider references\n  const fadedFilmSlider = document.getElementById('faded-film');\n  const vibranceSlider = document.getElementById('vibrance');\n  \n  // Display value references\n  const fadedFilmValue = document.getElementById('faded-film-value');\n  const vibranceValue = document.getElementById('vibrance-value');\n  \n  // Set up event listeners for sliders\n  setupSlider(fadedFilmSlider, fadedFilmValue, 'fadedFilm');\n  setupSlider(vibranceSlider, vibranceValue, 'vibrance');\n  \n  // Set up section toggle\n  setupSectionToggle('creative-toggle', 'creative-section');\n}\n\n// Set up a slider control with its value display\nfunction setupSlider(slider, valueDisplay, paramName) {\n  if (!slider || !valueDisplay) return;\n  \n  // Set initial value from app state\n  slider.value = appState.currentLutParams.creative[paramName];\n  valueDisplay.textContent = appState.currentLutParams.creative[paramName].toFixed(1);\n  \n  // Add event listener\n  slider.addEventListener('input', () => {\n    // Update parameter in app state\n    appState.currentLutParams.creative[paramName] = parseFloat(slider.value);\n    \n    // Update display value\n    valueDisplay.textContent = appState.currentLutParams.creative[paramName].toFixed(1);\n    \n    // Apply adjustments to image\n    applyImageAdjustments();\n  });\n}\n\n// Set up section toggle for expandable sections\nfunction setupSectionToggle(toggleId, sectionId) {\n  const toggle = document.getElementById(toggleId);\n  const section = document.getElementById(sectionId);\n  \n  if (toggle && section) {\n    toggle.addEventListener('click', () => {\n      toggle.classList.toggle('expanded');\n      section.classList.toggle('expanded');\n    });\n  }\n}\n\n// Apply creative effects to image data\nexport function applyCreativeEffects(imageData) {\n  const params = appState.currentLutParams.creative;\n  const data = imageData.data;\n  \n  for (let i = 0; i < data.length; i += 4) {\n    // Get RGB values (0-255) and normalize to 0-1\n    let r = data[i] / 255;\n    let g = data[i + 1] / 255;\n    let b = data[i + 2] / 255;\n    \n    // Apply vibrance if enabled\n    if (params.vibrance !== 0) {\n      const result = applyVibrance(r, g, b, params.vibrance / 150);\n      r = result.r;\n      g = result.g;\n      b = result.b;\n    }\n    \n    // Apply faded film effect if enabled\n    if (params.fadedFilm > 0) {\n      const result = applyFadedFilm(r, g, b, params.fadedFilm / 100);\n      r = result.r;\n      g = result.g;\n      b = result.b;\n    }\n    \n    // Clamp values to valid range (0-1)\n    r = Math.min(1.0, Math.max(0.0, r));\n    g = Math.min(1.0, Math.max(0.0, g));\n    b = Math.min(1.0, Math.max(0.0, b));\n    \n    // Convert back to 0-255 range and update pixel data\n    data[i] = Math.round(r * 255);\n    data[i + 1] = Math.round(g * 255);\n    data[i + 2] = Math.round(b * 255);\n    // Alpha channel (data[i + 3]) remains unchanged\n  }\n  \n  return imageData;\n}\n\n// Apply vibrance adjustment\nfunction applyVibrance(r, g, b, amount) {\n  // Calculate luminance\n  const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  \n  // Calculate saturation level to determine vibrance effect\n  const maxChannel = Math.max(r, g, b);\n  const minChannel = Math.min(r, g, b);\n  const saturationLevel = maxChannel === 0 ? 0 : (maxChannel - minChannel) / maxChannel;\n  \n  // Apply vibrance (affects less saturated colors more)\n  const vibranceEffect = amount * (1 - saturationLevel);\n  \n  // Apply the effect to each channel\n  r = luminance + (r - luminance) * (1 + vibranceEffect);\n  g = luminance + (g - luminance) * (1 + vibranceEffect);\n  b = luminance + (b - luminance) * (1 + vibranceEffect);\n  \n  return { r, g, b };\n}\n\n// Apply faded film effect\nfunction applyFadedFilm(r, g, b, amount) {\n  // Faded film effect reduces contrast and slightly shifts the black point\n  const fadeAmount = amount * 0.5; // Adjust the strength\n  \n  // Reduce contrast\n  r = r * (1 - fadeAmount) + 0.5 * fadeAmount;\n  g = g * (1 - fadeAmount) + 0.5 * fadeAmount;\n  b = b * (1 - fadeAmount) + 0.5 * fadeAmount;\n  \n  // Add a slight shift to the black point\n  const blackShift = amount * 0.1;\n  r += blackShift;\n  g += blackShift;\n  b += blackShift;\n  \n  return { r, g, b };\n}\n\n// Export functions and utilities\nexport {\n  applyVibrance,\n  applyFadedFilm\n};","// components/curves/curves-panel.js\n// Import app state and functions\nimport { appState, applyImageAdjustments } from '../../app.js';\n\n// Default curve parameters\nexport const defaultCurveParams = {\n  rgb: [\n    { x: 0, y: 0 },      // Shadow point\n    { x: 0.25, y: 0.25 }, // Quarter tone\n    { x: 0.5, y: 0.5 },   // Midtone\n    { x: 0.75, y: 0.75 }, // Three-quarter tone\n    { x: 1, y: 1 }       // Highlight point\n  ],\n  red: [\n    { x: 0, y: 0 },\n    { x: 0.25, y: 0.25 },\n    { x: 0.5, y: 0.5 },\n    { x: 0.75, y: 0.75 },\n    { x: 1, y: 1 }\n  ],\n  green: [\n    { x: 0, y: 0 },\n    { x: 0.25, y: 0.25 },\n    { x: 0.5, y: 0.5 },\n    { x: 0.75, y: 0.75 },\n    { x: 1, y: 1 }\n  ],\n  blue: [\n    { x: 0, y: 0 },\n    { x: 0.25, y: 0.25 },\n    { x: 0.5, y: 0.5 },\n    { x: 0.75, y: 0.75 },\n    { x: 1, y: 1 }\n  ],\n  currentChannel: 'rgb'\n};\n\n// Check if a curve is linear (no adjustments)\nexport function isLinearCurve(points) {\n  for (let i = 0; i < points.length; i++) {\n    const expectedY = points[i].x;\n    if (Math.abs(points[i].y - expectedY) > 0.01) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Interpolate a value through a curve\nexport function interpolateCurve(points, value) {\n  // Handle edge cases\n  if (value <= 0) return points[0].y;\n  if (value >= 1) return points[points.length - 1].y;\n  \n  // Find the segment containing the value\n  let i = 0;\n  while (i < points.length - 1 && points[i + 1].x < value) {\n    i++;\n  }\n  \n  // Linear interpolation between points\n  const p1 = points[i];\n  const p2 = points[i + 1];\n  const t = (value - p1.x) / (p2.x - p1.x);\n  \n  return p1.y + t * (p2.y - p1.y);\n}\n\n// Main Curves class\nclass CurvesPanel {\n  constructor(params = {}) {\n    // Merge provided params with defaults\n    this.params = {\n      ...JSON.parse(JSON.stringify(defaultCurveParams)),\n      ...params\n    };\n    \n    // DOM references\n    this.curveCanvas = null;\n    this.curveCtx = null;\n    this.channelButtons = {};\n    this.activePoint = null;\n    \n    // Bind methods to maintain correct context\n    this.init = this.init.bind(this);\n    this.drawCurve = this.drawCurve.bind(this);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.resetCurve = this.resetCurve.bind(this);\n  }\n  \n  // Initialize the curves panel UI\n  init() {\n    console.log('Initializing Curves Panel');\n    \n    // Get references to curve UI elements\n    this.curveCanvas = document.getElementById('curve-canvas');\n    \n    if (!this.curveCanvas) {\n      console.warn('Curve canvas not found');\n      return;\n    }\n    \n    this.curveCtx = this.curveCanvas.getContext('2d');\n    \n    // Get channel selector buttons\n    this.channelButtons = {\n      rgb: document.getElementById('curve-rgb'),\n      red: document.getElementById('curve-red'),\n      green: document.getElementById('curve-green'),\n      blue: document.getElementById('curve-blue')\n    };\n    \n    // Set up event listeners\n    this.setupEvents();\n    \n    // Initial UI setup\n    this.updateChannelButtonUI();\n    \n    // Initialize by drawing the curve\n    this.drawCurve();\n  }\n  \n  // Set up all event listeners\n  setupEvents() {\n    // Ensure methods are bound\n    if (!this.curveCanvas) return;\n    \n    // Canvas event handling\n    this.curveCanvas.addEventListener('mousedown', this.handleMouseDown);\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n    \n    // Channel selector buttons\n    for (const channel in this.channelButtons) {\n      const btn = this.channelButtons[channel];\n      if (btn) {\n        btn.addEventListener('click', () => {\n          // Set active channel\n          this.params.currentChannel = channel;\n          \n          // Update UI\n          this.updateChannelButtonUI();\n          this.drawCurve();\n        });\n      }\n    }\n    \n    // Reset button\n    const resetCurveBtn = document.getElementById('reset-curve-btn');\n    if (resetCurveBtn) {\n      resetCurveBtn.addEventListener('click', this.resetCurve);\n    }\n  }\n  \n  // Update channel button UI\n  updateChannelButtonUI() {\n    for (const channel in this.channelButtons) {\n      const btn = this.channelButtons[channel];\n      if (btn) {\n        if (channel === this.params.currentChannel) {\n          btn.classList.add('active');\n        } else {\n          btn.classList.remove('active');\n        }\n      }\n    }\n  }\n  \n  // Reset curve to linear\n  resetCurve() {\n    console.log('Resetting curve');\n    \n    // Reset current channel to default linear curve\n    this.params[this.params.currentChannel] = \n      JSON.parse(JSON.stringify(defaultCurveParams[this.params.currentChannel]));\n    \n    // Redraw\n    this.drawCurve();\n    \n    // Apply to image if available\n    if (typeof applyImageAdjustments === 'function') {\n      applyImageAdjustments();\n    }\n  }\n  \n  // Draw the curve onto the canvas\n  drawCurve() {\n    if (!this.curveCanvas || !this.curveCtx) {\n      console.warn('Canvas not ready for drawing');\n      return;\n    }\n    \n    const width = this.curveCanvas.width;\n    const height = this.curveCanvas.height;\n    \n    // Clear canvas\n    this.curveCtx.clearRect(0, 0, width, height);\n    \n    // Get current channel curve points\n    const points = this.params[this.params.currentChannel];\n    \n    // Draw curve background\n    this.curveCtx.fillStyle = 'rgba(20, 20, 20, 0.3)';\n    this.curveCtx.fillRect(0, 0, width, height);\n    \n    // Set curve color based on channel\n    let curveColor;\n    switch (this.params.currentChannel) {\n      case 'red':\n        curveColor = 'rgba(255, 100, 100, 0.8)';\n        break;\n      case 'green':\n        curveColor = 'rgba(100, 255, 100, 0.8)';\n        break;\n      case 'blue':\n        curveColor = 'rgba(100, 100, 255, 0.8)';\n        break;\n      default:\n        curveColor = 'rgba(255, 255, 255, 0.8)';\n    }\n    \n    // Start drawing the curve\n    this.curveCtx.beginPath();\n    \n    // Move to first point\n    this.curveCtx.moveTo(points[0].x * width, (1 - points[0].y) * height);\n    \n    // Draw line segments\n    for (let i = 1; i < points.length; i++) {\n      this.curveCtx.lineTo(points[i].x * width, (1 - points[i].y) * height);\n    }\n    \n    // Style and stroke the path\n    this.curveCtx.strokeStyle = curveColor;\n    this.curveCtx.lineWidth = 2;\n    this.curveCtx.stroke();\n    \n    // Draw control points\n    points.forEach((point, index) => {\n      this.curveCtx.beginPath();\n      this.curveCtx.arc(\n        point.x * width,\n        (1 - point.y) * height,\n        5,\n        0,\n        Math.PI * 2\n      );\n      \n      // Style based on whether it's an endpoint (fixed) or not\n      if (index === 0 || index === points.length - 1) {\n        this.curveCtx.fillStyle = 'rgba(150, 150, 150, 0.8)';\n      } else {\n        this.curveCtx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n      }\n      \n      this.curveCtx.fill();\n      this.curveCtx.strokeStyle = 'rgba(0, 0, 0, 0.8)';\n      this.curveCtx.lineWidth = 1;\n      this.curveCtx.stroke();\n    });\n  }\n  \n  // Handle mouse down on curve\n  handleMouseDown(e) {\n    if (!this.curveCanvas) return;\n    \n    const rect = this.curveCanvas.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width;\n    const y = 1 - (e.clientY - rect.top) / rect.height;\n    \n    // Get current channel points\n    const points = this.params[this.params.currentChannel];\n    \n    // Find closest control point\n    let minDistance = Infinity;\n    let closestPoint = null;\n    let pointIndex = -1;\n    \n    points.forEach((point, index) => {\n      const dx = point.x - x;\n      const dy = point.y - y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      \n      if (distance < minDistance) {\n        minDistance = distance;\n        closestPoint = point;\n        pointIndex = index;\n      }\n    });\n    \n    // If close enough to a point, make it active\n    if (minDistance < 0.05) {\n      // Don't allow moving first or last point\n      if (pointIndex > 0 && pointIndex < points.length - 1) {\n        this.activePoint = {\n          point: closestPoint,\n          index: pointIndex\n        };\n      }\n    }\n  }\n  \n  // Handle mouse move for curve editing\n  handleMouseMove(e) {\n    if (!this.activePoint || !this.curveCanvas) return;\n    \n    const rect = this.curveCanvas.getBoundingClientRect();\n    let x = (e.clientX - rect.left) / rect.width;\n    let y = 1 - (e.clientY - rect.top) / rect.height;\n    \n    // Clamp values\n    x = Math.max(0, Math.min(1, x));\n    y = Math.max(0, Math.min(1, y));\n    \n    const points = this.params[this.params.currentChannel];\n    const index = this.activePoint.index;\n    \n    // Enforce x ordering and prevent moving end points\n    const prevX = points[index - 1].x;\n    const nextX = points[index + 1].x;\n    \n    // Ensure point stays between its neighbors\n    x = Math.max(prevX + 0.01, Math.min(nextX - 0.01, x));\n    \n    // Update point\n    points[index].x = x;\n    points[index].y = y;\n    \n    // Redraw\n    this.drawCurve();\n    \n    // Apply adjustments if function exists\n    if (typeof applyImageAdjustments === 'function') {\n      applyImageAdjustments();\n    }\n  }\n  \n  // Handle mouse up for curve editing\n  handleMouseUp() {\n    // Clear active point\n    this.activePoint = null;\n  }\n  \n  // Apply curves to RGB values\n  applyCurves(r, g, b) {\n    // Apply RGB curve\n    const rgbPoints = this.params.rgb;\n    \n    r = interpolateCurve(rgbPoints, r);\n    g = interpolateCurve(rgbPoints, g);\n    b = interpolateCurve(rgbPoints, b);\n    \n    // Apply individual channel curves if not linear\n    if (!isLinearCurve(this.params.red)) {\n      r = interpolateCurve(this.params.red, r);\n    }\n    \n    if (!isLinearCurve(this.params.green)) {\n      g = interpolateCurve(this.params.green, g);\n    }\n    \n    if (!isLinearCurve(this.params.blue)) {\n      b = interpolateCurve(this.params.blue, b);\n    }\n    \n    return { r, g, b };\n  }\n  \n  // Apply curves to an entire image\n  applyCurvesToImage(imageData) {\n    const data = imageData.data;\n    \n    for (let i = 0; i < data.length; i += 4) {\n      // Get RGB values and normalize to 0-1\n      let r = data[i] / 255;\n      let g = data[i + 1] / 255;\n      let b = data[i + 2] / 255;\n      \n      // Apply curves\n      const result = this.applyCurves(r, g, b);\n      \n      // Convert back to 0-255 range\n      data[i] = Math.round(result.r * 255);\n      data[i + 1] = Math.round(result.g * 255);\n      data[i + 2] = Math.round(result.b * 255);\n      // Alpha remains unchanged\n    }\n    \n    return imageData;\n  }\n}\n\n// Single instance for the app\nlet curvesPanel = null;\n\n// Initialize the curves panel\nexport function initCurvesPanel() {\n  console.log('Setting up Curves Panel');\n  \n  // Initialize curves parameters in app state if not present\n  if (!appState.currentLutParams.curves) {\n    appState.currentLutParams.curves = JSON.parse(JSON.stringify(defaultCurveParams));\n  }\n  \n  // Create the curves panel with parameters from app state\n  curvesPanel = new CurvesPanel(appState.currentLutParams.curves);\n  \n  // Set up section toggle\n  setupSectionToggle('curves-toggle', 'curves-section');\n  \n  // Initialize when DOM is ready\n  if (document.readyState === 'complete' || document.readyState === 'interactive') {\n    setTimeout(() => curvesPanel.init(), 0);\n  } else {\n    document.addEventListener('DOMContentLoaded', () => curvesPanel.init());\n  }\n  \n  // Store reference in app state\n  appState.curvesPanel = curvesPanel;\n}\n\n// Set up section toggle for expandable sections\nfunction setupSectionToggle(toggleId, sectionId) {\n  const toggle = document.getElementById(toggleId);\n  const section = document.getElementById(sectionId);\n  \n  if (toggle && section) {\n    toggle.addEventListener('click', () => {\n      toggle.classList.toggle('expanded');\n      section.classList.toggle('expanded');\n    });\n  }\n}\n\n// Apply curves to an image\nexport function applyCurvesToImage(imageData) {\n  if (curvesPanel) {\n    return curvesPanel.applyCurvesToImage(imageData);\n  }\n  return imageData;\n}","// Import app state\nimport { appState } from '../../app.js';\n\n// Initialize image comparison\nexport function initImageComparison() {\n  console.log('Initializing Image Comparison');\n  // Will implement comparison slider functionality \n}\n\n// Export functions\nexport default {\n  initImageComparison\n};","// Import utilities if needed\nimport { appState, applyImageAdjustments } from '../../app.js';\n\n// Keep track of slider position\nlet currentSliderPosition = 50;\n\n// Initialize the preview controller\nexport function initPreviewController() {\n  console.log('Initializing Preview Controller');\n  \n  // Get DOM elements\n  const originalImage = document.getElementById('original-image');\n  const processedImage = document.getElementById('processed-image');\n  const originalPlaceholder = document.getElementById('original-placeholder');\n  const comparisonContainer = document.getElementById('comparison-container');\n  const imageUploadBtn = document.getElementById('image-upload-btn');\n  \n  // Store references to the DOM elements in the global app state\n  appState.originalImageElement = originalImage;\n  appState.processedImageElement = processedImage;\n  \n  // Set up view toggle buttons\n  setupViewToggleButtons();\n  \n  // Set up image upload button\n  if (imageUploadBtn) {\n    imageUploadBtn.addEventListener('click', handleImageUpload);\n  }\n  \n  // Set up image load handler\n  if (originalImage) {\n    originalImage.onload = () => {\n      console.log(\"Image loaded successfully\");\n      \n      // Store the image in app state\n      appState.originalImage = originalImage;\n      appState.processedImage = processedImage;\n      \n      // Hide placeholder, show comparison container\n      if (originalPlaceholder) originalPlaceholder.style.display = 'none';\n      if (comparisonContainer) comparisonContainer.style.display = 'block';\n      \n      // Initialize comparison slider\n      initComparisonSlider();\n      \n      // Apply adjustments to process the image\n      applyImageAdjustments();\n    };\n  }\n}\n\n// Set up view toggle buttons (split, before, after)\nfunction setupViewToggleButtons() {\n  const viewSplitBtn = document.getElementById('view-split');\n  const viewBeforeBtn = document.getElementById('view-before');\n  const viewAfterBtn = document.getElementById('view-after');\n  \n  if (viewSplitBtn) {\n    viewSplitBtn.addEventListener('click', () => {\n      setViewMode('split');\n    });\n  }\n  \n  if (viewBeforeBtn) {\n    viewBeforeBtn.addEventListener('click', () => {\n      setViewMode('before');\n    });\n  }\n  \n  if (viewAfterBtn) {\n    viewAfterBtn.addEventListener('click', () => {\n      setViewMode('after');\n    });\n  }\n}\n\n// Handle image upload functionality\nfunction handleImageUpload() {\n  console.log(\"Image upload button clicked\");\n  \n  // In Electron environment\n  if (window.electronAPI && typeof window.electronAPI.openFileDialog === 'function') {\n    window.electronAPI.openFileDialog({\n      properties: ['openFile'],\n      filters: [{ name: 'Images', extensions: ['jpg', 'jpeg', 'png', 'bmp'] }]\n    }).then(imagePath => {\n      if (imagePath) {\n        console.log(\"Selected image:\", imagePath);\n        appState.originalImageElement.src = `file://${imagePath}`;\n      }\n    }).catch(error => {\n      console.error(\"Error in Electron file dialog:\", error);\n      fallbackFileUpload();\n    });\n  } else {\n    // Browser environment\n    console.log(\"Using browser file input\");\n    fallbackFileUpload();\n  }\n}\n\n// Fallback file upload function using HTML input for browser context\nfunction fallbackFileUpload() {\n  const input = document.createElement('input');\n  input.type = 'file';\n  input.accept = 'image/*';\n  \n  input.addEventListener('change', function(e) {\n    if (this.files && this.files[0]) {\n      const file = this.files[0];\n      console.log(\"Selected file:\", file.name);\n      \n      const reader = new FileReader();\n      reader.onload = function(event) {\n        appState.originalImageElement.src = event.target.result;\n      };\n      \n      reader.readAsDataURL(file);\n    }\n  });\n  \n  input.click();\n}\n\n// Initialize comparison slider functionality\nfunction initComparisonSlider() {\n  const comparisonContainer = document.getElementById('comparison-container');\n  const originalImageContainer = document.getElementById('original-image-container');\n  const comparisonSlider = document.getElementById('comparison-slider');\n  const verticalDivider = document.getElementById('vertical-divider');\n  \n  let isSliding = false;\n  let startX = 0;\n  let startPercent = 50;\n\n  // Function to update slider position\n  function updateSliderPosition(percent) {\n    percent = Math.max(0, Math.min(100, percent));\n    \n    // Store the current position\n    currentSliderPosition = percent;\n    \n    // Update the clip-path of the original image container\n    originalImageContainer.style.clipPath = `inset(0 ${100 - percent}% 0 0)`;\n    \n    // Update slider position\n    comparisonSlider.style.left = percent + '%';\n    \n    // Update vertical divider position\n    verticalDivider.style.left = percent + '%';\n  }\n\n  // Handle mouse events\n  comparisonSlider.addEventListener('mousedown', (e) => {\n    isSliding = true;\n    startX = e.clientX;\n    \n    // Get current slider position\n    const sliderLeft = parseFloat(comparisonSlider.style.left) || currentSliderPosition;\n    startPercent = sliderLeft;\n    \n    e.preventDefault();\n  });\n\n  document.addEventListener('mousemove', (e) => {\n    if (!isSliding) return;\n    \n    const rect = comparisonContainer.getBoundingClientRect();\n    const deltaX = e.clientX - startX;\n    const deltaPercent = (deltaX / rect.width) * 100;\n    \n    updateSliderPosition(startPercent + deltaPercent);\n    e.preventDefault();\n  });\n\n  document.addEventListener('mouseup', () => {\n    isSliding = false;\n  });\n\n  // Handle touch events\n  comparisonSlider.addEventListener('touchstart', (e) => {\n    isSliding = true;\n    startX = e.touches[0].clientX;\n    \n    // Get current slider position\n    const sliderLeft = parseFloat(comparisonSlider.style.left) || currentSliderPosition;\n    startPercent = sliderLeft;\n    \n    e.preventDefault();\n  });\n\n  document.addEventListener('touchmove', (e) => {\n    if (!isSliding) return;\n    \n    const rect = comparisonContainer.getBoundingClientRect();\n    const deltaX = e.touches[0].clientX - startX;\n    const deltaPercent = (deltaX / rect.width) * 100;\n    \n    updateSliderPosition(startPercent + deltaPercent);\n    e.preventDefault();\n  });\n\n  document.addEventListener('touchend', () => {\n    isSliding = false;\n  });\n\n  // Click anywhere in container to move slider\n  comparisonContainer.addEventListener('click', (e) => {\n    if (e.target.closest('.toggle-view') || e.target.closest('.slider-handle')) return;\n    \n    const rect = comparisonContainer.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const percent = (clickX / rect.width) * 100;\n    \n    updateSliderPosition(percent);\n  });\n\n  // Initialize with 50/50 split or restore previous position\n  updateSliderPosition(currentSliderPosition);\n}\n\n// Set view mode (split, before, after)\nfunction setViewMode(mode, resetPosition = true) {\n  const viewSplitBtn = document.getElementById('view-split');\n  const viewBeforeBtn = document.getElementById('view-before');\n  const viewAfterBtn = document.getElementById('view-after');\n  const originalImageContainer = document.getElementById('original-image-container');\n  const comparisonSlider = document.getElementById('comparison-slider');\n  const verticalDivider = document.getElementById('vertical-divider');\n  \n  // Reset all buttons\n  viewSplitBtn.classList.remove('active');\n  viewBeforeBtn.classList.remove('active');\n  viewAfterBtn.classList.remove('active');\n  \n  switch (mode) {\n    case 'split':\n      viewSplitBtn.classList.add('active');\n      \n      // If resetPosition is true, set to 50/50 split; otherwise keep current position\n      if (resetPosition) {\n        currentSliderPosition = 50;\n      }\n      \n      // Position elements based on current slider position\n      originalImageContainer.style.clipPath = `inset(0 ${100 - currentSliderPosition}% 0 0)`;\n      verticalDivider.style.left = `${currentSliderPosition}%`;\n      comparisonSlider.style.left = `${currentSliderPosition}%`;\n      \n      // Make everything visible\n      comparisonSlider.style.display = 'block';\n      originalImageContainer.style.display = 'block';\n      verticalDivider.style.display = 'block'; // Show divider\n      break;\n      \n    case 'before':\n      viewBeforeBtn.classList.add('active');\n      \n      // Show full original image\n      originalImageContainer.style.clipPath = 'inset(0 0 0 0)';\n      \n      // Hide slider and divider\n      comparisonSlider.style.display = 'none';\n      verticalDivider.style.display = 'none'; // Hide divider\n      originalImageContainer.style.display = 'block';\n      break;\n      \n    case 'after':\n      viewAfterBtn.classList.add('active');\n      \n      // Hide original image completely\n      originalImageContainer.style.display = 'none';\n      \n      // Hide slider and divider\n      comparisonSlider.style.display = 'none';\n      verticalDivider.style.display = 'none'; // Hide divider\n      break;\n  }\n}\n\n// Export functions that may be needed by other modules\nexport {\n  setViewMode,\n  currentSliderPosition\n};","// Import app state and functions\nimport { appState, applyImageAdjustments } from '../../app.js';\n\n// Define built-in presets\nconst builtInPresets = {\n  \"custom\": {\n    contrast: 1.2,\n    saturation: 1.15,\n    redBalance: 1.05,\n    greenBalance: 0.95,\n    blueBalance: 1.1,\n    shadowsShift: [0.05, 0.0, -0.05],\n    highlightsShift: [0.03, 0.03, 0.0]\n  },\n  \"warm\": {\n    contrast: 1.1,\n    saturation: 0.9,\n    redBalance: 1.15,\n    greenBalance: 0.95,\n    blueBalance: 0.85,\n    shadowsShift: [0.08, 0.02, -0.05],\n    highlightsShift: [0.05, 0.0, -0.05]\n  },\n  \"cool\": {\n    contrast: 1.3,\n    saturation: 0.85,\n    redBalance: 0.9,\n    greenBalance: 1.0,\n    blueBalance: 1.2,\n    shadowsShift: [-0.03, 0.0, 0.08],\n    highlightsShift: [0.0, 0.0, 0.03]\n  },\n  \"bw\": {\n    contrast: 1.5,\n    saturation: 0.0,\n    redBalance: 0.33,\n    greenBalance: 0.33,\n    blueBalance: 0.33,\n    shadowsShift: [-0.05, -0.05, -0.05],\n    highlightsShift: [0.05, 0.05, 0.05]\n  },\n  \"film\": {\n    contrast: 0.9,\n    saturation: 0.8,\n    redBalance: 1.1,\n    greenBalance: 1.05,\n    blueBalance: 0.9,\n    shadowsShift: [0.1, 0.05, 0.0],\n    highlightsShift: [-0.02, -0.02, 0.05]\n  }\n};\n\n// Initialize user presets\nlet userPresets = {};\n\n// Initialize the Presets component\nexport function initPresets() {\n  console.log('Initializing Presets');\n  \n  // Initialize preset buttons\n  const presetButtons = document.querySelectorAll('.preset-btn');\n  \n  presetButtons.forEach(btn => {\n    btn.addEventListener('click', () => {\n      // Remove active class from all buttons\n      presetButtons.forEach(b => b.classList.remove('active'));\n      \n      // Add active class to clicked button\n      btn.classList.add('active');\n      \n      // Get preset id from button id\n      const presetId = btn.id.split('-')[1];\n      \n      // Apply the preset\n      applyPreset(presetId);\n    });\n  });\n  \n  // Load any saved user presets\n  loadUserPresets();\n}\n\n// Apply a preset by its ID\nfunction applyPreset(presetId) {\n  // Look for preset in built-in presets first, then user presets\n  const preset = builtInPresets[presetId] || userPresets[presetId];\n  \n  if (!preset) {\n    console.warn(`Preset '${presetId}' not found`);\n    return;\n  }\n  \n  console.log(`Applying preset: ${presetId}`);\n  \n  // Store the active preset ID\n  appState.activePresetId = presetId;\n  \n  // Apply preset to basic parameters\n  if (!appState.currentLutParams.basic) {\n    appState.currentLutParams.basic = {};\n  }\n  \n  // Copy preset values to app state\n  appState.currentLutParams.basic.contrast = preset.contrast;\n  appState.currentLutParams.basic.saturation = preset.saturation;\n  appState.currentLutParams.basic.redBalance = preset.redBalance;\n  appState.currentLutParams.basic.greenBalance = preset.greenBalance;\n  appState.currentLutParams.basic.blueBalance = preset.blueBalance;\n  \n  // Set shadows and highlights shift if present\n  if (preset.shadowsShift) {\n    appState.currentLutParams.basic.shadowsShift = [...preset.shadowsShift];\n  }\n  \n  if (preset.highlightsShift) {\n    appState.currentLutParams.basic.highlightsShift = [...preset.highlightsShift];\n  }\n  \n  // If advanced parameters are in the preset, apply them too\n  if (preset.advanced) {\n    applyAdvancedPreset(preset.advanced);\n  }\n  \n  // Update UI sliders to reflect new values\n  updateSlidersFromPreset();\n  \n  // Apply adjustments to image\n  applyImageAdjustments();\n}\n\n// Apply advanced preset parameters if present\nfunction applyAdvancedPreset(advancedParams) {\n  // Apply Lumetri-style parameters if they exist in the preset\n  if (advancedParams.temperature !== undefined && appState.currentLutParams.lumetri) {\n    appState.currentLutParams.lumetri.temperature = advancedParams.temperature;\n  }\n  \n  if (advancedParams.tint !== undefined && appState.currentLutParams.lumetri) {\n    appState.currentLutParams.lumetri.tint = advancedParams.tint;\n  }\n  \n  // Add more advanced parameters as needed\n}\n\n// Update UI sliders to reflect preset values\nfunction updateSlidersFromPreset() {\n  const params = appState.currentLutParams.basic;\n  \n  // Update basic sliders\n  updateSlider('contrast', params.contrast);\n  updateSlider('saturation', params.saturation);\n  updateSlider('red-balance', params.redBalance);\n  updateSlider('green-balance', params.greenBalance);\n  updateSlider('blue-balance', params.blueBalance);\n}\n\n// Helper to update a slider and its value display\nfunction updateSlider(sliderId, value) {\n  const slider = document.getElementById(sliderId);\n  const valueDisplay = document.getElementById(`${sliderId}-value`);\n  \n  if (slider) {\n    slider.value = value;\n  }\n  \n  if (valueDisplay) {\n    valueDisplay.textContent = value.toFixed(2);\n  }\n}\n\n// Save the current settings as a user preset\nexport function saveCurrentAsPreset(presetName) {\n  if (!presetName) return;\n  \n  // Create a preset from current settings\n  const newPreset = {\n    contrast: appState.currentLutParams.basic.contrast,\n    saturation: appState.currentLutParams.basic.saturation,\n    redBalance: appState.currentLutParams.basic.redBalance,\n    greenBalance: appState.currentLutParams.basic.greenBalance,\n    blueBalance: appState.currentLutParams.basic.blueBalance\n  };\n  \n  // Add shadows and highlights shift if present\n  if (appState.currentLutParams.basic.shadowsShift) {\n    newPreset.shadowsShift = [...appState.currentLutParams.basic.shadowsShift];\n  }\n  \n  if (appState.currentLutParams.basic.highlightsShift) {\n    newPreset.highlightsShift = [...appState.currentLutParams.basic.highlightsShift];\n  }\n  \n  // Add advanced parameters if in advanced mode\n  if (appState.activeMode === 'advanced' && appState.currentLutParams.lumetri) {\n    newPreset.advanced = {\n      temperature: appState.currentLutParams.lumetri.temperature,\n      tint: appState.currentLutParams.lumetri.tint,\n      // Add other advanced parameters\n    };\n  }\n  \n  // Save to user presets\n  userPresets[presetName] = newPreset;\n  \n  // Save to local storage\n  saveUserPresets();\n  \n  // Add the preset to UI\n  addPresetToUI(presetName);\n  \n  console.log(`Saved preset: ${presetName}`);\n}\n\n// Add a user preset to the UI\nfunction addPresetToUI(presetName) {\n  // This function would add a new preset button to the UI\n  // Implementation would depend on how you want to handle user presets in the UI\n  console.log(`Added preset to UI: ${presetName}`);\n}\n\n// Save user presets to local storage\nfunction saveUserPresets() {\n  try {\n    localStorage.setItem('lotsAppUserPresets', JSON.stringify(userPresets));\n  } catch (error) {\n    console.error('Failed to save user presets:', error);\n  }\n}\n\n// Load user presets from local storage\nfunction loadUserPresets() {\n  try {\n    const savedPresets = localStorage.getItem('lotsAppUserPresets');\n    if (savedPresets) {\n      userPresets = JSON.parse(savedPresets);\n      console.log('Loaded user presets:', Object.keys(userPresets));\n    }\n  } catch (error) {\n    console.error('Failed to load user presets:', error);\n  }\n}\n\n// Export functions and constants\nexport {\n  builtInPresets,\n  userPresets,\n  applyPreset\n};","// models/image-processor.js\n// Import necessary functions from other modules\nimport { appState } from '../app.js';\nimport { applyBasicCorrections } from '../components/basic-corrections/basic-corrections.js';\nimport { applyCreativeEffects } from '../components/creative/creative-effects.js';\nimport { applyColorWheelAdjustments } from '../components/color-wheels/color-wheels.js';\nimport { applyCurvesToImage } from '../components/curves/curves-panel.js';\n\n// Process an image with current adjustments in basic mode\nexport function processImageBasic(originalImage) {\n  console.log('Processing image with basic adjustments');\n  \n  if (!originalImage) {\n    console.error('No image to process');\n    return null;\n  }\n  \n  try {\n    // Create an offscreen canvas\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    \n    // Set canvas dimensions to match the image\n    canvas.width = originalImage.naturalWidth;\n    canvas.height = originalImage.naturalHeight;\n    \n    // Draw the original image onto the canvas\n    ctx.drawImage(originalImage, 0, 0);\n    \n    // Get the image data\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    \n    // Apply basic corrections\n    applyBasicCorrections(imageData);\n    \n    // Put the modified image data back on the canvas\n    ctx.putImageData(imageData, 0, 0);\n    \n    // Return the data URL for the processed image\n    return canvas.toDataURL('image/jpeg', 1.0);\n  } catch (error) {\n    console.error('Error processing image:', error);\n    return null;\n  }\n}\n\n// Process an image with current adjustments in advanced mode\nexport function processImageAdvanced(originalImage) {\n  console.log('Processing image with advanced adjustments');\n  \n  if (!originalImage) {\n    console.error('No image to process');\n    return null;\n  }\n  \n  try {\n    // Create an offscreen canvas\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    \n    // Set canvas dimensions to match the image\n    canvas.width = originalImage.naturalWidth;\n    canvas.height = originalImage.naturalHeight;\n    \n    // Draw the original image onto the canvas\n    ctx.drawImage(originalImage, 0, 0);\n    \n    // Get the image data\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    \n    // Apply adjustments in sequence\n    \n    // 1. Apply color wheels adjustments\n    applyColorWheelAdjustments(imageData);\n    \n    // 2. Apply creative effects (faded film, vibrance)\n    applyCreativeEffects(imageData);\n    \n    // 3. Apply curves adjustments\n    if (appState.curvesPanel) {\n      applyCurvesToImage(imageData);\n    }\n    \n    // Put the modified image data back on the canvas\n    ctx.putImageData(imageData, 0, 0);\n    \n    // Return the data URL for the processed image\n    return canvas.toDataURL('image/jpeg', 1.0);\n  } catch (error) {\n    console.error('Error processing advanced image:', error);\n    return null;\n  }\n}\n\n// Process the image based on current app mode\nexport function processImage(originalImage) {\n  if (appState.activeMode === 'basic') {\n    return processImageBasic(originalImage);\n  } else {\n    return processImageAdvanced(originalImage);\n  }\n}\n\n// Apply the current adjustments to the displayed image\nexport function applyAdjustmentsToImage() {\n  const originalImage = appState.originalImageElement;\n  const processedImage = appState.processedImageElement;\n  \n  if (!originalImage || !processedImage) {\n    console.warn('Image elements not available');\n    return;\n  }\n  \n  // Process the image\n  const processedImageUrl = processImage(originalImage);\n  \n  if (processedImageUrl) {\n    // Update the processed image with the new data\n    processedImage.src = processedImageUrl;\n  }\n}\n\n// Export the image processing functions\nexport default {\n  processImageBasic,\n  processImageAdvanced,\n  processImage,\n  applyAdjustmentsToImage\n};","// services/export-service.js\n// Import app state and services\nimport { appState } from '../app.js';\nimport { saveLutFile } from './file-service.js';\nimport { generateCubeLUT } from './lut-generator.js';\nimport { showToast } from '../components/common/ui-elements.js';\n\n// Initialize the export service\nexport function initExportService() {\n  console.log('Initializing Export Service');\n  \n  // Set up export buttons\n  setupExportButtons();\n}\n\n// Set up export button click handlers\nfunction setupExportButtons() {\n  const saveLutBtn = document.getElementById('save-lut-btn');\n  const saveLutBtnAdvanced = document.getElementById('save-lut-btn-advanced');\n  \n  if (saveLutBtn) {\n    saveLutBtn.addEventListener('click', handleExportLut);\n  }\n  \n  if (saveLutBtnAdvanced) {\n    saveLutBtnAdvanced.addEventListener('click', handleExportLut);\n  }\n}\n\n// Handle the LUT export button click\nexport async function handleExportLut() {\n  console.log('Exporting LUT');\n  \n  try {\n    // Generate the LUT content\n    const lutContent = generateCubeLUT();\n    \n    // Format filename from title\n    const defaultFilename = formatFilename(appState.currentLutParams.title);\n    \n    // Save the file\n    const result = await saveLutFile(lutContent, defaultFilename);\n    \n    if (result) {\n      console.log('LUT exported successfully');\n    } else {\n      console.warn('LUT export was cancelled or failed');\n    }\n  } catch (error) {\n    console.error('Error exporting LUT:', error);\n    showToast('Failed to export LUT: ' + error.message, 'error');\n  }\n}\n\n// Format a filename from the LUT title\nexport function formatFilename(title) {\n  if (!title) return 'lut.cube';\n  \n  // Replace spaces with underscores and remove special characters\n  let filename = title.replace(/\\s+/g, '_')\n                      .replace(/[^a-zA-Z0-9_-]/g, '')\n                      .toLowerCase();\n  \n  // Add .cube extension if not present\n  if (!filename.endsWith('.cube')) {\n    filename += '.cube';\n  }\n  \n  return filename;\n}\n\n// Export the current image with adjustments applied\nexport async function exportProcessedImage() {\n  console.log('Exporting processed image');\n  \n  if (!appState.processedImageElement) {\n    showToast('No processed image to export', 'error');\n    return null;\n  }\n  \n  try {\n    // Get the processed image source (already contains the applied adjustments)\n    const imageDataUrl = appState.processedImageElement.src;\n    \n    // In Electron environment, we would save the file using Electron APIs\n    if (window.electronAPI && typeof window.electronAPI.saveImage === 'function') {\n      const defaultName = 'processed_image.jpg';\n      \n      const filePath = await window.electronAPI.saveImage({\n        dataUrl: imageDataUrl,\n        defaultPath: defaultName\n      });\n      \n      if (filePath) {\n        showToast(`Image saved to: ${filePath}`, 'success');\n        return filePath;\n      }\n    } else {\n      // Browser environment - offer download\n      const a = document.createElement('a');\n      a.href = imageDataUrl;\n      a.download = 'processed_image.jpg';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      \n      showToast('Image downloaded', 'success');\n      return 'processed_image.jpg';\n    }\n  } catch (error) {\n    console.error('Error exporting image:', error);\n    showToast('Failed to export image', 'error');\n    return null;\n  }\n}\n\n// Export all settings as a preset file\nexport function exportPreset() {\n  console.log('Exporting preset');\n  \n  try {\n    // Create a preset object with current settings\n    const preset = {\n      name: appState.currentLutParams.title || 'Unnamed Preset',\n      basic: { ...appState.currentLutParams.basic },\n      advanced: {\n        lumetri: appState.currentLutParams.lumetri ? { ...appState.currentLutParams.lumetri } : null,\n        colorWheels: appState.currentLutParams.colorWheels ? { ...appState.currentLutParams.colorWheels } : null,\n        curves: appState.currentLutParams.curves ? { ...appState.currentLutParams.curves } : null\n      },\n      version: '1.0'\n    };\n    \n    // Convert to JSON\n    const presetJson = JSON.stringify(preset, null, 2);\n    \n    // Format filename\n    const defaultFilename = `${formatFilename(preset.name).replace('.cube', '')}.lotspreset`;\n    \n    // Save the file using Electron or browser download\n    if (window.electronAPI && typeof window.electronAPI.savePreset === 'function') {\n      return window.electronAPI.savePreset({\n        content: presetJson,\n        defaultPath: defaultFilename\n      }).then(filePath => {\n        if (filePath) {\n          showToast(`Preset saved to: ${filePath}`, 'success');\n          return filePath;\n        }\n        return null;\n      });\n    } else {\n      // Browser environment - offer download\n      const blob = new Blob([presetJson], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = defaultFilename;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      \n      showToast(`Preset downloaded as ${defaultFilename}`, 'success');\n      return Promise.resolve(defaultFilename);\n    }\n  } catch (error) {\n    console.error('Error exporting preset:', error);\n    showToast('Failed to export preset', 'error');\n    return Promise.resolve(null);\n  }\n}","// services/file-service.js\n// Import app state\nimport { appState } from '../app.js';\nimport { showToast } from '../components/common/ui-elements.js';\n\n// Initialize the file service\nexport function initFileService() {\n  console.log('Initializing File Service');\n}\n\n// Open an image file\nexport async function openImageFile() {\n  console.log('Opening image file');\n  \n  // If we're in Electron environment\n  if (window.electronAPI && typeof window.electronAPI.openFileDialog === 'function') {\n    try {\n      const imagePath = await window.electronAPI.openFileDialog({\n        properties: ['openFile'],\n        filters: [{ name: 'Images', extensions: ['jpg', 'jpeg', 'png', 'bmp', 'tiff', 'tif'] }]\n      });\n      \n      if (imagePath) {\n        console.log(\"Selected image:\", imagePath);\n        return `file://${imagePath}`;\n      }\n    } catch (error) {\n      console.error(\"Error in Electron file dialog:\", error);\n      return await fallbackFileUpload();\n    }\n  } else {\n    // Browser environment\n    console.log(\"Using browser file input\");\n    return await fallbackFileUpload();\n  }\n  \n  return null;\n}\n\n// Fallback file upload function using HTML input for browser context\nexport function fallbackFileUpload() {\n  return new Promise((resolve) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    \n    input.addEventListener('change', function(e) {\n      if (this.files && this.files[0]) {\n        const file = this.files[0];\n        console.log(\"Selected file:\", file.name);\n        \n        const reader = new FileReader();\n        reader.onload = function(event) {\n          resolve(event.target.result);\n        };\n        \n        reader.readAsDataURL(file);\n      } else {\n        resolve(null);\n      }\n    });\n    \n    // Handle cancel case\n    input.addEventListener('cancel', function() {\n      resolve(null);\n    });\n    \n    input.click();\n  });\n}\n\n// Save a LUT file\nexport async function saveLutFile(content, defaultFilename = 'lut.cube') {\n  console.log('Saving LUT file');\n  \n  try {\n    // Format the filename\n    const filename = defaultFilename.endsWith('.cube') ? defaultFilename : `${defaultFilename}.cube`;\n    \n    // If we're in Electron environment\n    if (window.electronAPI && typeof window.electronAPI.saveLut === 'function') {\n      const filePath = await window.electronAPI.saveLut({\n        content,\n        defaultPath: filename\n      });\n      \n      if (filePath) {\n        showToast(`LUT saved to: ${filePath}`, 'success');\n        return filePath;\n      }\n    } else {\n      // Browser environment - offer download\n      const blob = new Blob([content], { type: 'text/plain' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      \n      showToast(`LUT downloaded as ${filename}`, 'success');\n      return filename;\n    }\n  } catch (error) {\n    console.error('Error saving LUT:', error);\n    showToast('Failed to save LUT file', 'error');\n    return null;\n  }\n}\n\n// Load a LUT file\nexport async function loadLutFile() {\n  console.log('Loading LUT file');\n  \n  // If we're in Electron environment\n  if (window.electronAPI && typeof window.electronAPI.openFileDialog === 'function') {\n    try {\n      const lutPath = await window.electronAPI.openFileDialog({\n        properties: ['openFile'],\n        filters: [{ name: 'CUBE Files', extensions: ['cube'] }]\n      });\n      \n      if (lutPath) {\n        // In a real implementation, we would read the file content here\n        console.log(\"Selected LUT:\", lutPath);\n        \n        // Placeholder for actual file reading logic\n        // The content would be returned and parsed elsewhere\n        return {\n          path: lutPath,\n          filename: lutPath.split('/').pop(),\n          content: \"# Placeholder for actual LUT content\"\n        };\n      }\n    } catch (error) {\n      console.error(\"Error in Electron file dialog:\", error);\n      return null;\n    }\n  } else {\n    // Browser environment\n    return await fallbackLutUpload();\n  }\n  \n  return null;\n}\n\n// Fallback LUT upload function using HTML input for browser context\nexport function fallbackLutUpload() {\n  return new Promise((resolve) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.cube';\n    \n    input.addEventListener('change', function(e) {\n      if (this.files && this.files[0]) {\n        const file = this.files[0];\n        console.log(\"Selected LUT file:\", file.name);\n        \n        const reader = new FileReader();\n        reader.onload = function(event) {\n          resolve({\n            filename: file.name,\n            content: event.target.result\n          });\n        };\n        \n        reader.readAsText(file);\n      } else {\n        resolve(null);\n      }\n    });\n    \n    // Handle cancel case\n    input.addEventListener('cancel', function() {\n      resolve(null);\n    });\n    \n    input.click();\n  });\n}","// services/lut-generator.js\n// Import app state and utilities\nimport { appState } from '../app.js';\nimport { applyContrast } from '../components/basic-corrections/basic-corrections.js';\nimport { applyFadedFilm } from '../components/creative/creative-effects.js';\nimport { applyColorWheels } from '../components/color-wheels/color-wheels.js';\nimport { interpolateCurve, isLinearCurve } from '../components/curves/curves-panel.js';\n\n// Initialize the LUT generator service\nexport function initLutGenerator() {\n  console.log('Initializing LUT Generator Service');\n  \n  // Make the generator available globally\n  window.generateCubeLUT = generateCubeLUT;\n}\n\n// Generate a CUBE format LUT based on current parameters\nexport function generateCubeLUT() {\n  const lutParams = appState.currentLutParams;\n  const size = lutParams.size || 32;\n  let content = '';\n  \n  // Header\n  content += `# ${lutParams.title}\\n`;\n  content += '# Generated by LOTS App\\n\\n';\n  content += `LUT_3D_SIZE ${size}\\n`;\n  content += 'DOMAIN_MIN 0.0 0.0 0.0\\n';\n  content += 'DOMAIN_MAX 1.0 1.0 1.0\\n\\n';\n  \n  // Generate the 3D LUT entries\n  const step = 1.0 / (size - 1);\n  \n  for (let b = 0; b < size; b++) {\n    for (let g = 0; g < size; g++) {\n      for (let r = 0; r < size; r++) {\n        // Calculate normalized RGB values (0.0 to 1.0)\n        let redValue = r * step;\n        let greenValue = g * step;\n        let blueValue = b * step;\n        \n        // Apply adjustments based on the current mode\n        if (appState.activeMode === 'basic') {\n          const result = applyBasicLutAdjustments(redValue, greenValue, blueValue);\n          redValue = result.r;\n          greenValue = result.g;\n          blueValue = result.b;\n        } else {\n          const result = applyAdvancedLutAdjustments(redValue, greenValue, blueValue);\n          redValue = result.r;\n          greenValue = result.g;\n          blueValue = result.b;\n        }\n        \n        // Clamp values to valid range\n        redValue = Math.min(1.0, Math.max(0.0, redValue));\n        greenValue = Math.min(1.0, Math.max(0.0, greenValue));\n        blueValue = Math.min(1.0, Math.max(0.0, blueValue));\n        \n        // Add the entry to the LUT\n        content += `${redValue.toFixed(6)} ${greenValue.toFixed(6)} ${blueValue.toFixed(6)}\\n`;\n      }\n    }\n  }\n  \n  return content;\n}\n\n// Apply basic mode adjustments to a single color point\nexport function applyBasicLutAdjustments(r, g, b) {\n  const params = appState.currentLutParams.basic || {};\n  \n  // Apply contrast\n  r = applyContrast(r, params.contrast || 1.0);\n  g = applyContrast(g, params.contrast || 1.0);\n  b = applyContrast(b, params.contrast || 1.0);\n  \n  // Apply color balance\n  r *= params.redBalance || 1.0;\n  g *= params.greenBalance || 1.0;\n  b *= params.blueBalance || 1.0;\n  \n  // Apply shadow/highlight adjustments\n  if (params.shadowsShift && params.highlightsShift) {\n    let shadowEffect = Math.pow(1 - Math.max(r, Math.max(g, b)), 2);\n    let highlightEffect = Math.pow(Math.max(r, Math.max(g, b)), 2);\n    \n    r += params.shadowsShift[0] * shadowEffect + params.highlightsShift[0] * highlightEffect;\n    g += params.shadowsShift[1] * shadowEffect + params.highlightsShift[1] * highlightEffect;\n    b += params.shadowsShift[2] * shadowEffect + params.highlightsShift[2] * highlightEffect;\n  }\n  \n  // Apply saturation\n  if (params.saturation !== undefined && params.saturation !== 1.0) {\n    const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    r = luminance + params.saturation * (r - luminance);\n    g = luminance + params.saturation * (g - luminance);\n    b = luminance + params.saturation * (b - luminance);\n  }\n  \n  return { r, g, b };\n}\n\n// Apply advanced mode adjustments to a single color point\nexport function applyAdvancedLutAdjustments(r, g, b) {\n  const params = appState.currentLutParams;\n  \n  // 1. Apply temperature and tint\n  if (params.lumetri && (params.lumetri.temperature !== 0 || params.lumetri.tint !== 0)) {\n    const tempResult = applyTemperatureAndTint(\n      r, g, b, \n      params.lumetri.temperature / 150, \n      params.lumetri.tint / 150\n    );\n    r = tempResult.r;\n    g = tempResult.g;\n    b = tempResult.b;\n  }\n  \n  // 2. Apply exposure and contrast\n  if (params.lumetri) {\n    // Apply exposure\n    if (params.lumetri.exposure !== 0) {\n      const exposureFactor = Math.pow(2, params.lumetri.exposure);\n      r *= exposureFactor;\n      g *= exposureFactor;\n      b *= exposureFactor;\n    }\n    \n    // Apply contrast\n    if (params.lumetri.contrast !== 0) {\n      const contrastValue = 1 + (params.lumetri.contrast / 150 * 1.5);\n      r = applyContrast(r, contrastValue);\n      g = applyContrast(g, contrastValue);\n      b = applyContrast(b, contrastValue);\n    }\n  }\n  \n  // 3. Apply highlights, shadows, whites, blacks adjustments\n  if (params.lumetri) {\n    const toneResult = applyToneAdjustments(\n      r, g, b,\n      params.lumetri.highlights / 150 * 1.5,\n      params.lumetri.shadows / 150 * 1.5,\n      params.lumetri.whites / 150 * 1.5,\n      params.lumetri.blacks / 150 * 1.5\n    );\n    r = toneResult.r;\n    g = toneResult.g;\n    b = toneResult.b;\n  }\n  \n  // 4. Apply color wheels tinting\n  if (params.colorWheels) {\n    const shadowTint = params.colorWheels.shadowTint;\n    const highlightTint = params.colorWheels.highlightTint;\n    const tintBalance = params.colorWheels.tintBalance / 150;\n    \n    if (shadowTint.r !== 128 || shadowTint.g !== 128 || shadowTint.b !== 128 ||\n        highlightTint.r !== 128 || highlightTint.g !== 128 || highlightTint.b !== 128 ||\n        tintBalance !== 0) {\n      \n      const colorWheelResult = applyColorWheels(r, g, b, shadowTint, highlightTint, tintBalance);\n      r = colorWheelResult.r;\n      g = colorWheelResult.g;\n      b = colorWheelResult.b;\n    }\n  }\n  \n  // 5. Apply curves\n  if (params.curves) {\n    // Apply RGB curve first\n    const rgbPoints = params.curves.rgb;\n    if (rgbPoints) {\n      r = interpolateCurve(rgbPoints, r);\n      g = interpolateCurve(rgbPoints, g);\n      b = interpolateCurve(rgbPoints, b);\n    }\n    \n    // Apply individual channel curves if not linear\n    if (params.curves.red && !isLinearCurve(params.curves.red)) {\n      r = interpolateCurve(params.curves.red, r);\n    }\n    \n    if (params.curves.green && !isLinearCurve(params.curves.green)) {\n      g = interpolateCurve(params.curves.green, g);\n    }\n    \n    if (params.curves.blue && !isLinearCurve(params.curves.blue)) {\n      b = interpolateCurve(params.curves.blue, b);\n    }\n  }\n  \n  // 6. Apply creative effects (vibrance, saturation, faded film)\n  if (params.creative) {\n    // Apply vibrance\n    if (params.creative.vibrance !== 0) {\n      const vibranceAmount = params.creative.vibrance / 150;\n      const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n      const maxChannel = Math.max(r, g, b);\n      const minChannel = Math.min(r, g, b);\n      const saturationLevel = maxChannel === 0 ? 0 : (maxChannel - minChannel) / maxChannel;\n      const vibranceEffect = vibranceAmount * (1 - saturationLevel);\n      \n      r = luminance + (r - luminance) * (1 + vibranceEffect);\n      g = luminance + (g - luminance) * (1 + vibranceEffect);\n      b = luminance + (b - luminance) * (1 + vibranceEffect);\n    }\n    \n    // Apply faded film effect\n    if (params.creative.fadedFilm > 0) {\n      const fadedResult = applyFadedFilm(r, g, b, params.creative.fadedFilm / 100);\n      r = fadedResult.r;\n      g = fadedResult.g;\n      b = fadedResult.b;\n    }\n  }\n  \n  return { r, g, b };\n}\n\n// Apply temperature and tint adjustments\nexport function applyTemperatureAndTint(r, g, b, temperature, tint) {\n  // Temperature: blue-yellow shift\n  // Positive = cooler (more blue), Negative = warmer (more yellow)\n  const tempFactor = temperature;\n  \n  // Tint: green-magenta shift\n  // Positive = more magenta, Negative = more green\n  const tintFactor = tint;\n  \n  // Apply temperature (blue-yellow balance)\n  if (tempFactor < 0) {\n    // Warmer: boost red/green, reduce blue\n    r = r * (1 - tempFactor * 0.4);\n    g = g * (1 - tempFactor * 0.2);\n    b = b * (1 + tempFactor * 0.6);\n  } else if (tempFactor > 0) {\n    // Cooler: boost blue, reduce red/green\n    r = r * (1 - tempFactor * 0.4);\n    g = g * (1 - tempFactor * 0.2);\n    b = b * (1 + tempFactor * 0.6);\n  }\n  \n  // Apply tint (green-magenta balance)\n  if (tintFactor > 0) {\n    // More magenta: boost red and blue, reduce green\n    r = r * (1 + tintFactor * 0.3);\n    g = g * (1 - tintFactor * 0.3);\n    b = b * (1 + tintFactor * 0.3);\n  } else if (tintFactor < 0) {\n    // More green: boost green, reduce red and blue\n    r = r * (1 + tintFactor * 0.3);\n    g = g * (1 - tintFactor * 0.3);\n    b = b * (1 + tintFactor * 0.3);\n  }\n  \n  return { r, g, b };\n}\n\n// Apply tone adjustments (highlights, shadows, whites, blacks)\nexport function applyToneAdjustments(r, g, b, highlights, shadows, whites, blacks) {\n  // Calculate luminance\n  const luminance = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  \n  // Apply highlights adjustment (affects brighter areas)\n  let highlightEffect = Math.pow(luminance, 2) * highlights;\n  \n  // Apply shadows adjustment (affects darker areas)\n  let shadowEffect = Math.pow(1 - luminance, 2) * shadows;\n  \n  // Apply whites adjustment (affects the brightest areas)\n  let whitesEffect = Math.pow(luminance, 4) * whites;\n  \n  // Apply blacks adjustment (affects the darkest areas)\n  let blacksEffect = Math.pow(1 - luminance, 4) * blacks;\n  \n  // Combine all adjustments\n  const totalEffect = highlightEffect + shadowEffect + whitesEffect + blacksEffect;\n  \n  // Apply the combined effect to RGB channels\n  r += totalEffect;\n  g += totalEffect;\n  b += totalEffect;\n  \n  return { r, g, b };\n}","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./lots-app/src/app.js\");\n",""],"names":["initCurvesPanel","initBasicCorrections","initCreativeEffects","initColorWheels","initImageComparison","initPreviewController","initPresets","initUiElements","initFileService","initLutGenerator","initExportService","processImage","applyAdjustmentsToImage","appState","activeMode","originalImage","processedImage","currentLutParams","size","title","contrast","saturation","redBalance","greenBalance","blueBalance","shadowsShift","highlightsShift","initApp","console","log","window","setupModeToggle","setupWindowControls","modeToggle","document","getElementById","basicControls","advancedControls","addEventListener","isAdvancedMode","checked","concat","style","display","applyImageAdjustments","minimizeBtn","maximizeBtn","closeBtn","electronAPI","windowControl","processedImageUrl","originalImageElement","processedImageElement","src","error","applyBasicAdjustments","applyAdvancedAdjustments","basic","contrastSlider","saturationSlider","redBalanceSlider","greenBalanceSlider","blueBalanceSlider","contrastValue","saturationValue","redBalanceValue","greenBalanceValue","blueBalanceValue","setupSlider","initTitleAndSizeControls","slider","valueDisplay","paramName","value","textContent","toFixed","parseFloat","titleInput","lutSizeSelect","parseInt","applyBasicCorrections","imageData","params","data","i","length","r","g","b","applyContrast","luminance","shadowEffect","Math","pow","max","highlightEffect","min","round","colorWheels","shadowTint","highlightTint","tintBalance","shadowColorWheel","highlightColorWheel","tintBalanceSlider","tintBalanceValue","setupColorWheel","resetButton","querySelector","resetColorWheels","setupSectionToggle","wheel","innerHTML","canvas","createElement","width","clientWidth","height","clientHeight","appendChild","background","backgroundImage","indicator","className","tintValue","centerX","centerY","maxDistance","normalizedR","normalizedG","normalizedB","sqrt","hue","atan2","PI","x","cos","y","sin","setWheelIndicatorPosition","isMouseDown","e","updateWheelFromEvent","rect","getBoundingClientRect","clientX","left","clientY","top","distance","angle","normalizedDistance","rgb","hsvToRgb","mappedR","mappedG","mappedB","shadowIndicator","highlightIndicator","toggleId","sectionId","toggle","section","classList","h","s","v","floor","f","p","q","t","applyColorWheelAdjustments","result","applyColorWheels","shadowInfluence","highlightInfluence","shadowR","shadowG","shadowB","highlightR","highlightG","highlightB","initModals","initExpandableSections","initWindowControls","viewCodeBtn","viewCodeBtnAdvanced","codeModal","closeModalBtn","updateLUTPreview","modals","querySelectorAll","forEach","modal","target","fullPreview","arguments","undefined","lutPreview","lutContent","generateCubeLUT","slice","sections","content","expanded","add","showToast","message","type","duration","toastContainer","body","toast","setTimeout","remove","removeChild","showConfirmDialog","onConfirm","onCancel","dialogOverlay","dialogBox","messageEl","buttonsContainer","confirmBtn","cancelBtn","creative","fadedFilm","vibrance","fadedFilmSlider","vibranceSlider","fadedFilmValue","vibranceValue","applyCreativeEffects","applyVibrance","applyFadedFilm","amount","maxChannel","minChannel","saturationLevel","vibranceEffect","fadeAmount","blackShift","defaultCurveParams","red","green","blue","currentChannel","isLinearCurve","points","expectedY","abs","interpolateCurve","p1","p2","CurvesPanel","_classCallCheck","_objectSpread","JSON","parse","stringify","curveCanvas","curveCtx","channelButtons","activePoint","init","bind","drawCurve","handleMouseDown","handleMouseMove","handleMouseUp","resetCurve","_createClass","key","warn","getContext","setupEvents","updateChannelButtonUI","_this","_loop","channel","btn","resetCurveBtn","_this2","clearRect","fillStyle","fillRect","curveColor","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","point","index","arc","fill","minDistance","Infinity","closestPoint","pointIndex","dx","dy","prevX","nextX","applyCurves","rgbPoints","applyCurvesToImage","curvesPanel","curves","readyState","currentSliderPosition","originalPlaceholder","comparisonContainer","imageUploadBtn","setupViewToggleButtons","handleImageUpload","onload","initComparisonSlider","viewSplitBtn","viewBeforeBtn","viewAfterBtn","setViewMode","openFileDialog","properties","filters","name","extensions","then","imagePath","fallbackFileUpload","input","accept","files","file","reader","FileReader","event","readAsDataURL","click","originalImageContainer","comparisonSlider","verticalDivider","isSliding","startX","startPercent","updateSliderPosition","percent","clipPath","sliderLeft","preventDefault","deltaX","deltaPercent","touches","closest","clickX","mode","resetPosition","builtInPresets","userPresets","presetButtons","presetId","id","split","applyPreset","loadUserPresets","preset","activePresetId","_toConsumableArray","advanced","applyAdvancedPreset","updateSlidersFromPreset","advancedParams","temperature","lumetri","tint","updateSlider","sliderId","saveCurrentAsPreset","presetName","newPreset","saveUserPresets","addPresetToUI","localStorage","setItem","savedPresets","getItem","Object","keys","processImageBasic","ctx","naturalWidth","naturalHeight","drawImage","getImageData","putImageData","toDataURL","processImageAdvanced","_regeneratorRuntime","prototype","n","hasOwnProperty","o","defineProperty","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","call","l","GeneratorFunction","GeneratorFunctionPrototype","d","getPrototypeOf","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","_catch","delegateYield","ownKeys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","apply","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_toPrimitive","toPrimitive","String","Number","asyncGeneratorStep","_asyncToGenerator","_next","_throw","saveLutFile","setupExportButtons","saveLutBtn","saveLutBtnAdvanced","handleExportLut","_handleExportLut","_callee","defaultFilename","_callee$","_context","formatFilename","t0","filename","replace","toLowerCase","endsWith","exportProcessedImage","_exportProcessedImage","_callee2","imageDataUrl","defaultName","filePath","_callee2$","_context2","saveImage","dataUrl","defaultPath","href","download","exportPreset","version","presetJson","savePreset","blob","Blob","url","URL","createObjectURL","revokeObjectURL","openImageFile","_openImageFile","_x","_saveLutFile","_args2","saveLut","loadLutFile","_loadLutFile","_callee3","lutPath","_callee3$","_context3","path","fallbackLutUpload","readAsText","lutParams","step","redValue","greenValue","blueValue","applyBasicLutAdjustments","applyAdvancedLutAdjustments","tempResult","applyTemperatureAndTint","exposure","exposureFactor","toneResult","applyToneAdjustments","highlights","shadows","whites","blacks","colorWheelResult","vibranceAmount","fadedResult","tempFactor","tintFactor","whitesEffect","blacksEffect","totalEffect"],"sourceRoot":""}